<div class="platforms-container">
  <h1 class="page-title">Explorar Plataformas</h1>

  @if (groupedPlatforms$ | async; as groups) {
    @for (group of groups; track group.key) {
      <div class="generation-section">
        <h2 class="generation-title">{{ group.key }}</h2>
        <div class="platforms-list">
          @for (platform of group.platforms; track platform.id) {
            <div class="platform-item" (click)="navigateToPlatform(platform.id)">
              <div class="platform-icon">
                @switch (getPlatformIconType(platform)) {
                  @case ('computer') {
                    <!-- Computer Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"/>
                    </svg>
                  }
                  @case ('portable') {
                    <!-- Portable/Handheld Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M22 6H2v12h20V6zm-2 10H4V8h16v8zM7 9h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v6h-2z"/>
                    </svg>
                  }
                  @case ('arcade') {
                    <!-- Arcade Icon (Joystick) -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M21 9H3V7h18v2zm-9-6c-1.1 0-2 .9-2 2v2h4V5c0-1.1-.9-2-2-2zm9 8H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm-9 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
                    </svg>
                  }
                  @default {
                    <!-- Console/Gamepad Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
                    </svg>
                  }
                }
              </div>
              <div class="platform-info">
                <h3>{{ platform.name }}</h3>
                <span class="platform-type">{{ platform.platformType }}</span>
              </div>
              <div class="platform-arrow">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
                </svg>
              </div>
            </div>
          }
        </div>
      </div>
    }
  } @else {
    <div class="loading">Cargando plataformas...</div>
  }
</div>
